include build/unix/default.mk

OBJ_DIR := $(OBJ_DIR)/$(TARGET)
OBJ     := $(patsubst $(SRC_DIR)/%.c,$(OBJ_DIR)/%.o,$(wildcard $(SRC_DIR)/*.c))

default: $(OBJ_DIR) $(OBJ_DIR).a

%.a: $(OBJ)
	$(call archive)

$(OBJ_DIR)/%.o: $(SRC_DIR)/%.c
	$(call compilec)

$(OBJ_DIR):
	@mkdir -p $(OBJ_DIR)

clean:
	@rm -fr $(OBJ_DIR)
